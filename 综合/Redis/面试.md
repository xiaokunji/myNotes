[toc]

# Redis的单线程指什么

Redis 单线程主要指的是网络IO和键值对读写是由一个线程来完成的，Redis在<u>处理客户端的请求</u>的时候包括获取(Socket)，解析，执行，内容返回(Socket写)等由一个顺序串行的主线程处理，这即为单线程 

但Redis的其它功能，比如持久化，异步删除，集群数据同步等等，都是由额外的线程执行的，是多线程 

**即Redis工作线程是单线程的，但是，整个Redis来说是多线程的**



# Redis单线程为什么很快

1、基于内存操作：Redis的所有数据都存在内存中，因此所有的运算都是内存级别

2、数据结构简单：Redis的数据结构简单，查找和操作时间大部分时间复杂度是O(1)

3、多路复用和非阻塞：Redis使用多路复用功能来监听多个Socket链接客服端，这样可以一个线程处理多个请求，减少线程切换带来的开销，同时也避免了IO阻塞操作

4、避免上下文切换：因为是单线程模型，因此避免了多线程切换和多线程竞争，减少时间和性能的消耗



[Redis系列第一讲：Redis是单线程吗 - 掘金 (juejin.cn)](https://juejin.cn/post/7031953350157402148)



# 谈谈redis的对象机制（redisObject)

Redis的5种基础数据类型，在底层是采用对象机制实现的。

Redis的每种对象其实都由对象结构(redisObject) 与 对应编码的数据结构组合而成，而每种对象类型对应若干编码方式，不同的编码方式所对应的底层数据结构是不同的。

redisObject 是 Redis 类型系统的核心, 数据库中的每个键、值, 以及 Redis 本身处理的参数, 都表示为这种数据类型。

![image-20220727113818732](.\面试.assets\image-20220727113818732.png)

[Redis相关知识----对象机制_小舟~的博客-CSDN博客](https://blog.csdn.net/CarrotZsy/article/details/115964515)